function loadAnalytics(){if(document.getElementById("ga-script"))return;const e=document.createElement("script");function t(){dataLayer.push(arguments)}e.id="ga-script",e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-WW7LC8SFJ5",document.head.appendChild(e),window.dataLayer=window.dataLayer||[],t("js",new Date),t("config","G-WW7LC8SFJ5",{page_path:location.pathname})}function initCookieModal(){const e=localStorage.getItem("cookieConsent"),t=document.getElementById("cookieModal");e?"accepted"===e&&loadAnalytics():t.classList.remove("hidden"),document.getElementById("acceptCookies").addEventListener("click",(()=>{localStorage.setItem("cookieConsent","accepted"),loadAnalytics(),t.classList.add("hidden")})),document.getElementById("denyCookies").addEventListener("click",(()=>{localStorage.setItem("cookieConsent","denied"),t.classList.add("hidden")})),document.getElementById("cookieCloseBtn").addEventListener("click",(()=>{localStorage.setItem("cookieConsent","denied"),t.classList.add("hidden")}))}function setupLegalModals(){document.querySelectorAll("[data-modal]").forEach((e=>{const t=e.getAttribute("data-modal"),n=document.getElementById(t),o=n.querySelector("[data-close]");e.addEventListener("click",(t=>{t.preventDefault(),n.classList.remove("hidden"),n.classList.add("active"),e.setAttribute("aria-expanded","true"),o.focus()}))})),document.querySelectorAll("[data-close]").forEach((e=>{const t=e.closest(".modal"),n=t.id&&document.querySelector(`[data-modal="${t.id}"]`);e.addEventListener("click",(()=>{t.classList.remove("active"),t.classList.add("hidden"),n&&n.setAttribute("aria-expanded","false"),n&&n.focus()}))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&document.querySelectorAll(".modal.active").forEach((e=>{e.classList.remove("active"),e.classList.add("hidden");const t=document.querySelector(`[data-modal="${e.id}"]`);t&&(t.setAttribute("aria-expanded","false"),t.focus())}))}))}window.addEventListener("load",(()=>{const e=document.getElementById("splash"),t=document.getElementById("splashVideo"),n=document.getElementById("mainContent");e&&t&&n&&(t.autoplay=!0,t.muted=!0,t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("preload","auto"),t.addEventListener("canplaythrough",(()=>{t.play().catch((()=>{}))})),t.addEventListener("ended",(()=>{e.addEventListener("transitionend",(()=>{e.remove(),n.classList.add("visible")}),{once:!0}),e.classList.add("hidden")})),t.addEventListener("loadedmetadata",(()=>{setTimeout((()=>{e.classList.contains("hidden")||(t.pause(),t.dispatchEvent(new Event("ended")))}),5e3)})))}));const dataKey="fs_positions",defaultPositions={},darkKey="fs_dark",keyStep=10;let state={el:null,sx:0,sy:0,ox:0,oy:0,lt:null};const DEBUG=!1;function getRect(){return document.querySelector(".gallery-container").getBoundingClientRect()}function save(){const e={};document.querySelectorAll(".draggable").forEach((t=>{e[t.id]={x:t.offsetLeft,y:t.offsetTop}})),localStorage.setItem(dataKey,JSON.stringify(e))}function load(){const e=JSON.parse(localStorage.getItem(dataKey)||"{}"),t=getRect();document.querySelectorAll(".draggable").forEach((n=>{let o,a;if(null!=e[n.id])o=e[n.id].x,a=e[n.id].y;else{const e=defaultPositions[n.id]||{x:0,y:0};o=e.x,a=e.y}const d=t.width-n.offsetWidth,s=t.height-n.offsetHeight;o=Math.min(Math.max(0,o),d),a=Math.min(Math.max(0,a),s),n.style.left=o+"px",n.style.top=a+"px"}))}function setupLoad(e){e.complete||(e.classList.add("image-loading"),e.onload=()=>e.classList.remove("image-loading"),e.onerror=()=>{e.classList.remove("image-loading"),e.classList.add("image-error")})}function toggleDark(){const e=document.body.classList.toggle("dark");localStorage.setItem(darkKey,e)}function showPop(e){console.log("ðŸ”” showPop invocado para",e.id);const t=document.getElementById("popup"),n=document.getElementById("popupImage"),o=document.getElementById("popupTitle"),a=document.getElementById("popupDescription"),d=document.getElementById("detalleLista"),s=e.dataset.popupSrc||e.src;n.src=s,o.textContent=e.alt,a.innerHTML=(e.dataset.description||"").replace(/\n/g,"<br>"),d.innerHTML="";const c=e.dataset.detailStory;if(c){const e=document.createElement("li");e.textContent=c,d.appendChild(e)}else{[`TÃ©cnica: ${e.dataset.detailTecnica||"No disponible"}`,`Medidas: ${e.dataset.detailMedidas||"No disponible"}`,`AÃ±o de ejecuciÃ³n: ${e.dataset.detailAno||"No disponible"}`,`Proceso creativo: ${e.dataset.detailProceso||"No disponible"}`,`InspiraciÃ³n: ${e.dataset.detailInspiracion||"No disponible"}`].forEach((e=>{const t=document.createElement("li");t.textContent=e,d.appendChild(t)}))}t.classList.add("active")}function closePop(){document.fullscreenElement&&document.exitFullscreen(),document.getElementById("popup").classList.remove("active")}document.addEventListener("DOMContentLoaded",(()=>{initCookieModal(),setupLegalModals(),localStorage.removeItem(dataKey);const e={about:{es:"Info",en:"About"},contact:{es:"Contacto",en:"Contact"},aboutTitle:{es:"Sobre Antonio Monereo",en:"About Antonio Monereo"},contactTitle:{es:"EnvÃ­anos un email",en:"Send us an email"},close:{es:"Cerrar",en:"Close"},aboutInfo:{es:'Antonio Monereo (Madrid, 2001) es un joven pintor y dibujante formado en Bellas Artes en la Universidad Complutense y en Historia del Arte en la UNED. Se adentrÃ³ muy pronto en el mundo del arte: comenzÃ³ a dibujar desde niÃ±o, ganÃ³ un primer premio en el certamen "Toledo desde el AlcÃ¡zar" (2016) y desde 2019 ejerce como uno de los copistas mÃ¡s jÃ³venes del Museo del Prado. Su acercamiento al arte es profundamente clÃ¡sico, con una destacada tÃ©cnica acadÃ©mica, pero tambiÃ©n muy personal: en entrevistas ha confesado que la pintura ha sido su refugio y medio para afirmarse y encontrar su lugar.',en:'Antonio Monereo (Madrid, 2001) is a young painter and draftsman who studied Fine Arts at the Complutense University and Art History at the UNED. He discovered his passion for art early on, began drawing as a child, won first prize in the "Toledo from the AlcÃ¡zar" contest in 2016, and has been one of the youngest official copyists at the Prado Museum since 2019. His approach to art is deeply classical, with a strong academic technique, yet also deeply personal: in interviews, he has shared that painting has been both a refuge and a way to affirm his identity and find his place in the world.'},pubBtn:{es:"Publicaciones",en:"Publications"},Shangay:{es:"Entrevista Shangay",en:"Shangay Interview"},Telemadrid:{es:"Entrevista Telemadrid",en:"Telemadrid Interview"},filterAll:{es:"Antonio Monereo",en:"Antonio Monereo"},filterCopies:{es:"Copias",en:"Copies"},filterPaintings:{es:"Pinturas",en:"Paintings"},filterDrawings:{es:"Dibujos",en:"Drawings"},Sillamoderna:{es:"Silla moderna",en:"Modern Chair"}};function t(t){document.querySelectorAll("[data-i18n]").forEach((n=>{const o=n.getAttribute("data-i18n");e[o]&&(n.textContent=e[o][t])})),localStorage.setItem("lang",t)}let n=localStorage.getItem("lang")||"es";t(n),document.getElementById("langToggle").addEventListener("click",(()=>{n="es"===n?"en":"es",t(n)}));const o=document.getElementById("pubBtn"),a=(document.getElementById("pubMenu"),document.getElementById("bottomSheet"));o.addEventListener("click",(e=>{e.stopPropagation(),o.parentElement.classList.toggle("open")})),document.addEventListener("click",(()=>{o.parentElement.classList.remove("open")}));const d=Array.from(document.querySelectorAll(".image-gallery .draggable"));function s(e){d.forEach((t=>{t.style.display="all"===e||t.dataset.category===e?"":"none"})),document.querySelectorAll(".filter-btn").forEach((t=>{t.classList.toggle("active",t.dataset.cat===e)}))}document.getElementById("homeBtn").addEventListener("click",(e=>{e.preventDefault(),s("all"),document.body.classList.remove("menu-open"),void 0!==a&&a.classList.remove("open")})),document.querySelectorAll(".filter-btn").forEach((e=>{e.addEventListener("click",(()=>{s(e.dataset.cat),a.classList.remove("open")}))})),s("all"),document.querySelectorAll(".sheet-nav").forEach((e=>{e.addEventListener("click",(()=>{switch(e.dataset.action){case"about":document.getElementById("aboutBtn").click();break;case"contact":document.getElementById("contactBtn").click();break;case"dark":document.getElementById("darkModeToggle").click();break;case"reset":document.getElementById("resetBtn").click()}a.classList.remove("open")}))}));const c=document.getElementById("resetBtn"),i=document.getElementById("darkModeToggle"),l=(document.getElementById("aboutBtn"),document.getElementById("aboutSection"),document.getElementById("closeAbout"),document.getElementById("popup")),r=document.getElementById("closePopup"),u=document.getElementById("hamburgerBtn"),m=document.getElementById("mobileNav");u.addEventListener("click",(()=>{const e="true"===u.getAttribute("aria-expanded");u.setAttribute("aria-expanded",String(!e)),m.hidden=e,document.body.classList.toggle("menu-open",!e),e||m.querySelector('[role="menuitem"]')?.focus(),u.setAttribute("aria-label",e?"Abrir menÃº":"Cerrar menÃº"),u.focus()}));m.querySelectorAll('[role="menuitem"]').forEach((e=>{e.addEventListener("click",(()=>{m.hidden=!0,u.setAttribute("aria-expanded","false"),u.setAttribute("aria-label","Abrir menÃº"),document.body.classList.remove("menu-open"),document.getElementById("gallery")?.focus()}))})),document.querySelectorAll(".mobile-nav-btn[data-filter]").forEach((e=>{e.addEventListener("click",(()=>{s(e.getAttribute("data-filter")),document.body.classList.remove("menu-open")}))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&"true"===u.getAttribute("aria-expanded")&&u.click()})),document.getElementById("aboutNav").addEventListener("click",(()=>{document.getElementById("aboutBtn").click(),document.body.classList.remove("menu-open")})),document.getElementById("contactNav").addEventListener("click",(()=>{document.getElementById("contactBtn").click(),document.body.classList.remove("menu-open")}));const p=document.getElementById("pubNav"),g=p.parentElement;p.addEventListener("click",(e=>{e.stopPropagation();const t="true"===p.getAttribute("aria-expanded");p.setAttribute("aria-expanded",String(!t)),g.classList.toggle("open")})),document.addEventListener("click",(()=>{g.classList.contains("open")&&(p.setAttribute("aria-expanded","false"),g.classList.remove("open"))}));document.getElementById("homeBtn").addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}));const y=[document.getElementById("searchBtnMobile"),document.getElementById("searchBtnDesktop")].filter(Boolean),h=document.getElementById("searchContainer"),f=document.getElementById("searchForm"),E=document.getElementById("searchInput"),v=Array.from(document.querySelectorAll(".draggable"));y.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),h.classList.toggle("hidden"),h.classList.contains("hidden")||E.focus()}))})),document.addEventListener("click",(e=>{const t=y.some((t=>t===e.target));h.contains(e.target)||t||h.classList.add("hidden")})),f.addEventListener("submit",(e=>{e.preventDefault();const t=E.value.trim().toLowerCase();v.forEach((e=>{const n=(e.id+" "+e.alt+" "+(e.dataset.description||"")).toLowerCase();e.style.display=n.includes(t)?"":"none"}))})),c.onclick=()=>{localStorage.removeItem(dataKey),document.querySelectorAll(".draggable").forEach((e=>{e.style.left="",e.style.top=""})),load()},"true"===localStorage.getItem(darkKey)&&document.body.classList.add("dark"),i.onclick=toggleDark;const b=Array.from(document.querySelectorAll(".draggable"));b.forEach((e=>{e.style.position="absolute"})),b.forEach((e=>{const t=getRect(),n=e.getBoundingClientRect();defaultPositions[e.id]={x:n.left-t.left,y:n.top-t.top}})),load();let L=getRect();b.forEach((e=>{setupLoad(e),e.tabIndex=0})),window.addEventListener("resize",(()=>{L=getRect(),load()})),b.forEach((e=>{e.onpointerdown=t=>{"touch"!==t.pointerType&&t.preventDefault(),state.el=e,state.sx=t.clientX,state.sy=t.clientY,state.ox=e.offsetLeft,state.oy=e.offsetTop,e.setPointerCapture(t.pointerId)},e.onpointermove=t=>{if(!state.el)return;let n=state.ox+(t.clientX-state.sx),o=state.oy+(t.clientY-state.sy);console.log(`Moviendo: ${e.id}, X: ${n}, Y: ${o}, R.width: ${L.width}, R.height: ${L.height}`),n=Math.min(Math.max(0,n),L.width-e.offsetWidth),o=Math.min(Math.max(0,o),L.height-e.offsetHeight),e.style.left=`${n}px`,e.style.top=`${o}px`},e.onpointerup=e=>{state.el&&(state.el.style.transform="",save(),state.el.releasePointerCapture(e.pointerId),state.el=null)},e.ondblclick=()=>showPop(e),"ontouchstart"in window&&e.addEventListener("click",(t=>{t.stopPropagation(),showPop(e)})),e.onkeydown=t=>{let n=!1,o=e.offsetLeft,a=e.offsetTop;switch(t.key){case"ArrowLeft":o=Math.max(0,o-10),n=!0;break;case"ArrowRight":o=Math.min(L.width-e.offsetWidth,o+10),n=!0;break;case"ArrowUp":a=Math.max(0,a-10),n=!0;break;case"ArrowDown":a=Math.min(L.height-e.offsetHeight,a+10),n=!0;break;case"Enter":case" ":showPop(e)}n&&(t.preventDefault(),e.style.left=`${o}px`,e.style.top=`${a}px`,save())}})),r.onclick=closePop,l.onclick=e=>{e.target===l&&closePop()},document.getElementById("currentYear").textContent=(new Date).getFullYear();const k=document.getElementById("popupImage");k.addEventListener("dblclick",(()=>{document.fullscreenElement?document.exitFullscreen():k.requestFullscreen().catch((e=>{console.error(`Error al pedir fullscreen: ${e.message}`)}))}));let I=0;k.addEventListener("touchend",(e=>{const t=(new Date).getTime(),n=t-I;n<300&&n>0&&(document.fullscreenElement?document.exitFullscreen():k.requestFullscreen().catch((e=>{console.error(`Error al pedir fullscreen: ${e.message}`)}))),I=t}))}));